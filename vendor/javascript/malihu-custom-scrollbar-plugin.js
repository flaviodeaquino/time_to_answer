import e from"jquery-mousewheel";var t;var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var o={};(function(e){o?o=e:e(jQuery,window,document)})((function(n){(function(t){var a=false,i=o,r="https:"==document.location.protocol?"https:":"http:",l="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";a||(i?e(n):n.event.special.mousewheel||n("head").append(decodeURI("%3Cscript src="+r+"//"+l+"%3E%3C/script%3E")));t()})((function(){var e="mCustomScrollbar",o="mCS",i=".mCustomScrollbar",r={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:true,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:true,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:true,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:true,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:true,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:true}},l=0,s={},c=window.attachEvent&&!window.addEventListener?1:0,d=false,u,f=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(e){var e=n.extend(true,{},r,e),t=_selector.call(this||a);if(e.live){var c=e.liveSelector||(this||a).selector||i,d=n(c);if("off"===e.live){removeLiveTimers(c);return}s[c]=setTimeout((function(){d.mCustomScrollbar(e);"once"===e.live&&d.length&&removeLiveTimers(c)}),500)}else removeLiveTimers(c);e.setWidth=e.set_width?e.set_width:e.setWidth;e.setHeight=e.set_height?e.set_height:e.setHeight;e.axis=e.horizontalScroll?"x":_findAxis(e.axis);e.scrollInertia=e.scrollInertia>0&&e.scrollInertia<17?17:e.scrollInertia;"object"!==typeof e.mouseWheel&&true==e.mouseWheel&&(e.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false});e.mouseWheel.scrollAmount=e.mouseWheelPixels?e.mouseWheelPixels:e.mouseWheel.scrollAmount;e.mouseWheel.normalizeDelta=e.advanced.normalizeMouseWheelDelta?e.advanced.normalizeMouseWheelDelta:e.mouseWheel.normalizeDelta;e.scrollButtons.scrollType=_findScrollButtonsType(e.scrollButtons.scrollType);_theme(e);return n(t).each((function(){var t=n(this||a);if(!t.data(o)){t.data(o,{idx:++l,opt:e,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:false,tweenRunning:false,sequential:{},langDir:t.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var i=t.data(o),r=i.opt,s=t.data("mcs-axis"),c=t.data("mcs-scrollbar-position"),d=t.data("mcs-theme");s&&(r.axis=s);c&&(r.scrollbarPosition=c);if(d){r.theme=d;_theme(r)}_pluginMarkup.call(this||a);i&&r.callbacks.onCreate&&"function"===typeof r.callbacks.onCreate&&r.callbacks.onCreate.call(this||a);n("#mCSB_"+i.idx+"_container img:not(."+f[2]+")").addClass(f[2]);h.update.call(null,t)}}))},update:function(e,t){var i=e||_selector.call(this||a);return n(i).each((function(){var e=n(this||a);if(e.data(o)){var i=e.data(o),r=i.opt,l=n("#mCSB_"+i.idx+"_container"),s=n("#mCSB_"+i.idx),c=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")];if(!l.length)return;i.tweenRunning&&_stop(e);t&&i&&r.callbacks.onBeforeUpdate&&"function"===typeof r.callbacks.onBeforeUpdate&&r.callbacks.onBeforeUpdate.call(this||a);e.hasClass(f[3])&&e.removeClass(f[3]);e.hasClass(f[4])&&e.removeClass(f[4]);s.css("max-height","none");s.height()!==e.height()&&s.css("max-height",e.height());_expandContentHorizontally.call(this||a);"y"===r.axis||r.advanced.autoExpandHorizontalScroll||l.css("width",_contentWidth(l));i.overflowed=_overflowed.call(this||a);_scrollbarVisibility.call(this||a);r.autoDraggerLength&&_setDraggerLength.call(this||a);_scrollRatio.call(this||a);_bindEvents.call(this||a);var d=[Math.abs(l[0].offsetTop),Math.abs(l[0].offsetLeft)];if("x"!==r.axis)if(i.overflowed[0])if(c[0].height()>c[0].parent().height())_resetContentPosition.call(this||a);else{_scrollTo(e,d[0].toString(),{dir:"y",dur:0,overwrite:"none"});i.contentReset.y=null}else{_resetContentPosition.call(this||a);"y"===r.axis?_unbindEvents.call(this||a):"yx"===r.axis&&i.overflowed[1]&&_scrollTo(e,d[1].toString(),{dir:"x",dur:0,overwrite:"none"})}if("y"!==r.axis)if(i.overflowed[1])if(c[1].width()>c[1].parent().width())_resetContentPosition.call(this||a);else{_scrollTo(e,d[1].toString(),{dir:"x",dur:0,overwrite:"none"});i.contentReset.x=null}else{_resetContentPosition.call(this||a);"x"===r.axis?_unbindEvents.call(this||a):"yx"===r.axis&&i.overflowed[0]&&_scrollTo(e,d[0].toString(),{dir:"y",dur:0,overwrite:"none"})}t&&i&&(2===t&&r.callbacks.onImageLoad&&"function"===typeof r.callbacks.onImageLoad?r.callbacks.onImageLoad.call(this||a):3===t&&r.callbacks.onSelectorChange&&"function"===typeof r.callbacks.onSelectorChange?r.callbacks.onSelectorChange.call(this||a):r.callbacks.onUpdate&&"function"===typeof r.callbacks.onUpdate&&r.callbacks.onUpdate.call(this||a));_autoUpdate.call(this||a)}}))},scrollTo:function(e,t){if("undefined"!=typeof e&&null!=e){var i=_selector.call(this||a);return n(i).each((function(){var i=n(this||a);if(i.data(o)){var r=i.data(o),l=r.opt,s={trigger:"external",scrollInertia:l.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:false,timeout:60,callbacks:true,onStart:true,onUpdate:true,onComplete:true},c=n.extend(true,{},s,t),d=_arr.call(this||a,e),u=c.scrollInertia>0&&c.scrollInertia<17?17:c.scrollInertia;d[0]=_to.call(this||a,d[0],"y");d[1]=_to.call(this||a,d[1],"x");if(c.moveDragger){d[0]*=r.scrollRatio.y;d[1]*=r.scrollRatio.x}c.dur=_isTabHidden()?0:u;setTimeout((function(){if(null!==d[0]&&"undefined"!==typeof d[0]&&"x"!==l.axis&&r.overflowed[0]){c.dir="y";c.overwrite="all";_scrollTo(i,d[0].toString(),c)}if(null!==d[1]&&"undefined"!==typeof d[1]&&"y"!==l.axis&&r.overflowed[1]){c.dir="x";c.overwrite="none";_scrollTo(i,d[1].toString(),c)}}),c.timeout)}}))}},stop:function(){var e=_selector.call(this||a);return n(e).each((function(){var e=n(this||a);e.data(o)&&_stop(e)}))},disable:function(e){var t=_selector.call(this||a);return n(t).each((function(){var t=n(this||a);if(t.data(o)){var i=t.data(o);_autoUpdate.call(this||a,"remove");_unbindEvents.call(this||a);e&&_resetContentPosition.call(this||a);_scrollbarVisibility.call(this||a,true);t.addClass(f[3])}}))},destroy:function(){var t=_selector.call(this||a);return n(t).each((function(){var i=n(this||a);if(i.data(o)){var r=i.data(o),l=r.opt,s=n("#mCSB_"+r.idx),c=n("#mCSB_"+r.idx+"_container"),d=n(".mCSB_"+r.idx+"_scrollbar");l.live&&removeLiveTimers(l.liveSelector||n(t).selector);_autoUpdate.call(this||a,"remove");_unbindEvents.call(this||a);_resetContentPosition.call(this||a);i.removeData(o);_delete(this||a,"mcs");d.remove();c.find("img."+f[2]).removeClass(f[2]);s.replaceWith(c.contents());i.removeClass(e+" _"+o+"_"+r.idx+" "+f[6]+" "+f[7]+" "+f[5]+" "+f[3]).addClass(f[4])}}))}},_selector=function(){return"object"!==typeof n(this||a)||n(this||a).length<1?i:this||a},_theme=function(e){var t=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];e.autoDraggerLength=!(n.inArray(e.theme,t)>-1)&&e.autoDraggerLength;e.autoExpandScrollbar=!(n.inArray(e.theme,a)>-1)&&e.autoExpandScrollbar;e.scrollButtons.enable=!(n.inArray(e.theme,o)>-1)&&e.scrollButtons.enable;e.autoHideScrollbar=n.inArray(e.theme,i)>-1||e.autoHideScrollbar;e.scrollbarPosition=n.inArray(e.theme,r)>-1?"outside":e.scrollbarPosition},removeLiveTimers=function(e){if(s[e]){clearTimeout(s[e]);_delete(s,e)}},_findAxis=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},_findScrollButtonsType=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},_pluginMarkup=function(){var t=n(this||a),i=t.data(o),r=i.opt,l=r.autoExpandScrollbar?" "+f[1]+"_expand":"",s=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+l+"'><div class='"+f[12]+"'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+l+"'><div class='"+f[12]+"'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],c="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",d="yx"===r.axis?s[0]+s[1]:"x"===r.axis?s[1]:s[0],u="yx"===r.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",h=r.autoHideScrollbar?" "+f[6]:"",m="x"!==r.axis&&"rtl"===i.langDir?" "+f[7]:"";r.setWidth&&t.css("width",r.setWidth);r.setHeight&&t.css("height",r.setHeight);r.setLeft="y"!==r.axis&&"rtl"===i.langDir?"989999px":r.setLeft;t.addClass(e+" _"+o+"_"+i.idx+h+m).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+c+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir='"+i.langDir+"' /></div>");var p=n("#mCSB_"+i.idx),g=n("#mCSB_"+i.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||g.css("width",_contentWidth(g));if("outside"===r.scrollbarPosition){"static"===t.css("position")&&t.css("position","relative");t.css("overflow","visible");p.addClass("mCSB_outside").after(d)}else{p.addClass("mCSB_inside").append(d);g.wrap(u)}_scrollButtons.call(this||a);var _=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")];_[0].css("min-height",_[0].height());_[1].css("min-width",_[1].width())},_contentWidth=function(e){var t=[e[0].scrollWidth,Math.max.apply(Math,e.children().map((function(){return n(this||a).outerWidth(true)})).get())],o=e.parent().width();return t[0]>o?t[0]:t[1]>o?t[1]:"100%"},_expandContentHorizontally=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=n("#mCSB_"+t.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){r.css({width:"auto","min-width":0,"overflow-x":"scroll"});var l=Math.ceil(r[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&l>r.parent().width()?r.css({width:l,"min-width":"100%","overflow-x":"inherit"}):r.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_scrollButtons=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=n(".mCSB_"+t.idx+"_scrollbar:first"),l=_isNumeric(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",s=["<a href='#' class='"+f[13]+"' "+l+" />","<a href='#' class='"+f[14]+"' "+l+" />","<a href='#' class='"+f[15]+"' "+l+" />","<a href='#' class='"+f[16]+"' "+l+" />"],c=["x"===i.axis?s[2]:s[0],"x"===i.axis?s[3]:s[1],s[2],s[3]];i.scrollButtons.enable&&r.prepend(c[0]).append(c[1]).next(".mCSB_scrollTools").prepend(c[2]).append(c[3])},_setDraggerLength=function(){var e=n(this||a),t=e.data(o),i=n("#mCSB_"+t.idx),r=n("#mCSB_"+t.idx+"_container"),l=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],s=[i.height()/r.outerHeight(false),i.width()/r.outerWidth(false)],d=[parseInt(l[0].css("min-height")),Math.round(s[0]*l[0].parent().height()),parseInt(l[1].css("min-width")),Math.round(s[1]*l[1].parent().width())],u=c&&d[1]<d[0]?d[0]:d[1],f=c&&d[3]<d[2]?d[2]:d[3];l[0].css({height:u,"max-height":l[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":d[0]+"px"});l[1].css({width:f,"max-width":l[1].parent().width()-10})},_scrollRatio=function(){var e=n(this||a),t=e.data(o),i=n("#mCSB_"+t.idx),r=n("#mCSB_"+t.idx+"_container"),l=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],s=[r.outerHeight(false)-i.height(),r.outerWidth(false)-i.width()],c=[s[0]/(l[0].parent().height()-l[0].height()),s[1]/(l[1].parent().width()-l[1].width())];t.scrollRatio={y:c[0],x:c[1]}},_onDragClasses=function(e,t,a){var o=a?f[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");if("active"===t){e.toggleClass(f[0]+" "+o);n.toggleClass(f[1]);e[0]._draggable=e[0]._draggable?0:1}else if(!e[0]._draggable)if("hide"===t){e.removeClass(f[0]);n.removeClass(f[1])}else{e.addClass(f[0]);n.addClass(f[1])}},_overflowed=function(){var e=n(this||a),t=e.data(o),i=n("#mCSB_"+t.idx),r=n("#mCSB_"+t.idx+"_container"),l=null==t.overflowed?r.height():r.outerHeight(false),s=null==t.overflowed?r.width():r.outerWidth(false),c=r[0].scrollHeight,d=r[0].scrollWidth;c>l&&(l=c);d>s&&(s=d);return[l>i.height(),s>i.width()]},_resetContentPosition=function(){var e=n(this||a),i=e.data(o),r=i.opt,l=n("#mCSB_"+i.idx),s=n("#mCSB_"+i.idx+"_container"),c=[n("#mCSB_"+i.idx+"_dragger_vertical"),n("#mCSB_"+i.idx+"_dragger_horizontal")];_stop(e);if("x"!==r.axis&&!i.overflowed[0]||"y"===r.axis&&i.overflowed[0]){c[0].add(s).css("top",0);_scrollTo(e,"_resetY")}if("y"!==r.axis&&!i.overflowed[1]||"x"===r.axis&&i.overflowed[1]){var d=a.dx=t=0;if("rtl"===i.langDir){d=l.width()-s.outerWidth(false);t=Math.abs(d/i.scrollRatio.x)}s.css("left",d);c[1].css("left",t);_scrollTo(e,"_resetX")}},_bindEvents=function(){var e=n(this||a),t=e.data(o),i=t.opt;if(!t.bindEvents){_draggable.call(this||a);i.contentTouchScroll&&_contentDraggable.call(this||a);_selectable.call(this||a);if(i.mouseWheel.enable){function _mwt(){r=setTimeout((function(){if(n.event.special.mousewheel){clearTimeout(r);_mousewheel.call(e[0])}else _mwt()}),100)}var r;_mwt()}_draggerRail.call(this||a);_wrapperScroll.call(this||a);i.advanced.autoScrollOnFocus&&_focus.call(this||a);i.scrollButtons.enable&&_buttons.call(this||a);i.keyboard.enable&&_keyboard.call(this||a);t.bindEvents=true}},_unbindEvents=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=o+"_"+t.idx,l=".mCSB_"+t.idx+"_scrollbar",s=n("#mCSB_"+t.idx+",#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,"+l+" ."+f[12]+",#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal,"+l+">a"),c=n("#mCSB_"+t.idx+"_container");i.advanced.releaseDraggableSelectors&&s.add(n(i.advanced.releaseDraggableSelectors));i.advanced.extraDraggableSelectors&&s.add(n(i.advanced.extraDraggableSelectors));if(t.bindEvents){n(document).add(n(!_canAccessIFrame()||top.document)).unbind("."+r);s.each((function(){n(this||a).unbind("."+r)}));clearTimeout(e[0]._focusTimeout);_delete(e[0],"_focusTimeout");clearTimeout(t.sequential.step);_delete(t.sequential,"step");clearTimeout(c[0].onCompleteTimeout);_delete(c[0],"onCompleteTimeout");t.bindEvents=false}},_scrollbarVisibility=function(e){var t=n(this||a),i=t.data(o),r=i.opt,l=n("#mCSB_"+i.idx+"_container_wrapper"),s=l.length?l:n("#mCSB_"+i.idx+"_container"),c=[n("#mCSB_"+i.idx+"_scrollbar_vertical"),n("#mCSB_"+i.idx+"_scrollbar_horizontal")],d=[c[0].find(".mCSB_dragger"),c[1].find(".mCSB_dragger")];if("x"!==r.axis)if(i.overflowed[0]&&!e){c[0].add(d[0]).add(c[0].children("a")).css("display","block");s.removeClass(f[8]+" "+f[10])}else{if(r.alwaysShowScrollbar){2!==r.alwaysShowScrollbar&&d[0].css("display","none");s.removeClass(f[10])}else{c[0].css("display","none");s.addClass(f[10])}s.addClass(f[8])}if("y"!==r.axis)if(i.overflowed[1]&&!e){c[1].add(d[1]).add(c[1].children("a")).css("display","block");s.removeClass(f[9]+" "+f[11])}else{if(r.alwaysShowScrollbar){2!==r.alwaysShowScrollbar&&d[1].css("display","none");s.removeClass(f[11])}else{c[1].css("display","none");s.addClass(f[11])}s.addClass(f[9])}i.overflowed[0]||i.overflowed[1]?t.removeClass(f[5]):t.addClass(f[5])},_coordinates=function(e){var t=e.type,a=e.target.ownerDocument!==document&&null!==frameElement?[n(frameElement).offset().top,n(frameElement).offset().left]:null,o=_canAccessIFrame()&&e.target.ownerDocument!==top.document&&null!==frameElement?[n(e.view.frameElement).offset().top,n(e.view.frameElement).offset().left]:[0,0];switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[e.originalEvent.pageY-a[0]+o[0],e.originalEvent.pageX-a[1]+o[1],false]:[e.originalEvent.pageY,e.originalEvent.pageX,false];break;case"touchstart":case"touchmove":case"touchend":var i=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];break;default:return a?[e.pageY-a[0]+o[0],e.pageX-a[1]+o[1],false]:[e.pageY,e.pageX,false]}},_draggable=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=o+"_"+t.idx,l=["mCSB_"+t.idx+"_dragger_vertical","mCSB_"+t.idx+"_dragger_horizontal"],s=n("#mCSB_"+t.idx+"_container"),u=n("#"+l[0]+",#"+l[1]),f,h,m,p=i.advanced.releaseDraggableSelectors?u.add(n(i.advanced.releaseDraggableSelectors)):u,g=i.advanced.extraDraggableSelectors?n(!_canAccessIFrame()||top.document).add(n(i.advanced.extraDraggableSelectors)):n(!_canAccessIFrame()||top.document);u.bind("contextmenu."+r,(function(e){e.preventDefault()})).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,(function(t){t.stopImmediatePropagation();t.preventDefault();if(_mouseBtnLeft(t)){d=true;c&&(document.onselectstart=function(){return false});_iframe.call(s,false);_stop(e);f=n(this||a);var o=f.offset(),r=_coordinates(t)[0]-o.top,l=_coordinates(t)[1]-o.left,u=f.height()+o.top,p=f.width()+o.left;if(r<u&&r>0&&l<p&&l>0){h=r;m=l}_onDragClasses(f,"active",i.autoExpandScrollbar)}})).bind("touchmove."+r,(function(e){e.stopImmediatePropagation();e.preventDefault();var t=f.offset(),a=_coordinates(e)[0]-t.top,o=_coordinates(e)[1]-t.left;_drag(h,m,a,o)}));n(document).add(g).bind("mousemove."+r+" pointermove."+r+" MSPointerMove."+r,(function(e){if(f){var t=f.offset(),a=_coordinates(e)[0]-t.top,o=_coordinates(e)[1]-t.left;if(h===a&&m===o)return;_drag(h,m,a,o)}})).add(p).bind("mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r,(function(e){if(f){_onDragClasses(f,"active",i.autoExpandScrollbar);f=null}d=false;c&&(document.onselectstart=null);_iframe.call(s,true)}));function _drag(a,o,n,r){s[0].idleTimer=i.scrollInertia<233?250:0;if(f.attr("id")===l[1])var c="x",d=(f[0].offsetLeft-o+r)*t.scrollRatio.x;else var c="y",d=(f[0].offsetTop-a+n)*t.scrollRatio.y;_scrollTo(e,d.toString(),{dir:c,drag:true})}},_contentDraggable=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=o+"_"+t.idx,l=n("#mCSB_"+t.idx),s=n("#mCSB_"+t.idx+"_container"),c=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],f,h,m,p,g,_=[],v=[],x,w,b,S,C,y,B=0,T,k="yx"===i.axis?"none":"all",M=[],O,I,D=s.find("iframe"),E=["touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,"touchmove."+r+" pointermove."+r+" MSPointerMove."+r,"touchend."+r+" pointerup."+r+" MSPointerUp."+r],W=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;s.bind(E[0],(function(e){_onTouchstart(e)})).bind(E[1],(function(e){_onTouchmove(e)}));l.bind(E[0],(function(e){_onTouchstart2(e)})).bind(E[2],(function(e){_onTouchend(e)}));D.length&&D.each((function(){n(this||a).bind("load",(function(){_canAccessIFrame(this||a)&&n((this||a).contentDocument||(this||a).contentWindow.document).bind(E[0],(function(e){_onTouchstart(e);_onTouchstart2(e)})).bind(E[1],(function(e){_onTouchmove(e)})).bind(E[2],(function(e){_onTouchend(e)}))}))}));function _onTouchstart(t){if(!_pointerTouch(t)||d||_coordinates(t)[2])u=0;else{u=1;O=0;I=0;f=1;e.removeClass("mCS_touch_action");var a=s.offset();h=_coordinates(t)[0]-a.top;m=_coordinates(t)[1]-a.left;M=[_coordinates(t)[0],_coordinates(t)[1]]}}function _onTouchmove(a){if(_pointerTouch(a)&&!d&&!_coordinates(a)[2]){i.documentTouchScroll||a.preventDefault();a.stopImmediatePropagation();if((!I||O)&&f){w=_getTime();var o=l.offset(),n=_coordinates(a)[0]-o.top,r=_coordinates(a)[1]-o.left,u="mcsLinearOut";_.push(n);v.push(r);M[2]=Math.abs(_coordinates(a)[0]-M[0]);M[3]=Math.abs(_coordinates(a)[1]-M[1]);if(t.overflowed[0])var p=c[0].parent().height()-c[0].height(),g=h-n>0&&n-h>-p*t.scrollRatio.y&&(2*M[3]<M[2]||"yx"===i.axis);if(t.overflowed[1])var x=c[1].parent().width()-c[1].width(),b=m-r>0&&r-m>-x*t.scrollRatio.x&&(2*M[2]<M[3]||"yx"===i.axis);if(g||b){W||a.preventDefault();O=1}else{I=1;e.addClass("mCS_touch_action")}W&&a.preventDefault();y="yx"===i.axis?[h-n,m-r]:"x"===i.axis?[null,m-r]:[h-n,null];s[0].idleTimer=250;t.overflowed[0]&&_drag(y[0],B,u,"y","all",true);t.overflowed[1]&&_drag(y[1],B,u,"x",k,true)}}}function _onTouchstart2(t){if(!_pointerTouch(t)||d||_coordinates(t)[2])u=0;else{u=1;t.stopImmediatePropagation();_stop(e);x=_getTime();var a=l.offset();p=_coordinates(t)[0]-a.top;g=_coordinates(t)[1]-a.left;_=[];v=[]}}function _onTouchend(e){if(_pointerTouch(e)&&!d&&!_coordinates(e)[2]){f=0;e.stopImmediatePropagation();O=0;I=0;b=_getTime();var a=l.offset(),o=_coordinates(e)[0]-a.top,n=_coordinates(e)[1]-a.left;if(!(b-w>30)){C=1e3/(b-x);var r="mcsEaseOut",c=C<2.5,u=c?[_[_.length-2],v[v.length-2]]:[0,0];S=c?[o-u[0],n-u[1]]:[o-p,n-g];var h=[Math.abs(S[0]),Math.abs(S[1])];C=c?[Math.abs(S[0]/4),Math.abs(S[1]/4)]:[C,C];var m=[Math.abs(s[0].offsetTop)-S[0]*_m(h[0]/C[0],C[0]),Math.abs(s[0].offsetLeft)-S[1]*_m(h[1]/C[1],C[1])];y="yx"===i.axis?[m[0],m[1]]:"x"===i.axis?[null,m[1]]:[m[0],null];T=[4*h[0]+i.scrollInertia,4*h[1]+i.scrollInertia];var B=parseInt(i.contentTouchScroll)||0;y[0]=h[0]>B?y[0]:0;y[1]=h[1]>B?y[1]:0;t.overflowed[0]&&_drag(y[0],T[0],r,"y",k,false);t.overflowed[1]&&_drag(y[1],T[1],r,"x",k,false)}}}function _m(e,t){var a=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?a[0]:a[3]:e>60?t>3?a[3]:a[2]:e>30?t>8?a[1]:t>6?a[0]:t>4?t:a[2]:t>8?t:a[3]}function _drag(t,a,o,n,i,r){t&&_scrollTo(e,t.toString(),{dur:a,scrollEasing:o,dir:n,overwrite:i,drag:r})}},_selectable=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=t.sequential,l=o+"_"+t.idx,s=n("#mCSB_"+t.idx+"_container"),c=s.parent(),f;s.bind("mousedown."+l,(function(e){if(!u&&!f){f=1;d=true}})).add(document).bind("mousemove."+l,(function(e){if(!u&&f&&_sel()){var a=s.offset(),o=_coordinates(e)[0]-a.top+s[0].offsetTop,n=_coordinates(e)[1]-a.left+s[0].offsetLeft;if(o>0&&o<c.height()&&n>0&&n<c.width())r.step&&_seq("off",null,"stepped");else{"x"!==i.axis&&t.overflowed[0]&&(o<0?_seq("on",38):o>c.height()&&_seq("on",40));"y"!==i.axis&&t.overflowed[1]&&(n<0?_seq("on",37):n>c.width()&&_seq("on",39))}}})).bind("mouseup."+l+" dragend."+l,(function(e){if(!u){if(f){f=0;_seq("off",null)}d=false}}));function _sel(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function _seq(t,a,o){r.type=o&&f?"stepped":"stepless";r.scrollAmount=10;_sequentialScroll(e,t,a,"mcsLinearOut",o?60:null)}},_mousewheel=function(){if(n(this||a).data(o)){var e=n(this||a),t=e.data(o),i=t.opt,r=o+"_"+t.idx,l=n("#mCSB_"+t.idx),s=[n("#mCSB_"+t.idx+"_dragger_vertical"),n("#mCSB_"+t.idx+"_dragger_horizontal")],d=n("#mCSB_"+t.idx+"_container").find("iframe");d.length&&d.each((function(){n(this||a).bind("load",(function(){_canAccessIFrame(this||a)&&n((this||a).contentDocument||(this||a).contentWindow.document).bind("mousewheel."+r,(function(e,t){_onMousewheel(e,t)}))}))}));l.bind("mousewheel."+r,(function(e,t){_onMousewheel(e,t)}))}function _onMousewheel(a,o){_stop(e);if(!_disableMousewheel(e,a.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):c&&a.deltaFactor<100?100:a.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*t.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(n("#mCSB_"+t.idx+"_container")[0].offsetLeft),p=s[1][0].offsetLeft,g=s[1].parent().width()-s[1].width(),_="y"===i.mouseWheel.axis?a.deltaY||o:a.deltaX;else var u="y",f=[Math.round(r*t.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(n("#mCSB_"+t.idx+"_container")[0].offsetTop),p=s[0][0].offsetTop,g=s[0].parent().height()-s[0].height(),_=a.deltaY||o;if(("y"!==u||t.overflowed[0])&&("x"!==u||t.overflowed[1])){(i.mouseWheel.invert||a.webkitDirectionInvertedFromDevice)&&(_=-_);i.mouseWheel.normalizeDelta&&(_=_<0?-1:1);if(_>0&&0!==p||_<0&&p!==g||i.mouseWheel.preventDefault){a.stopImmediatePropagation();a.preventDefault()}if(a.deltaFactor<5&&!i.mouseWheel.normalizeDelta){h=a.deltaFactor;d=17}_scrollTo(e,(m-_*h).toString(),{dir:u,dur:d})}}}},m=new Object,_canAccessIFrame=function(e){var t=false,a=false,o=null;void 0===e?a="#empty":void 0!==n(e).attr("id")&&(a=n(e).attr("id"));if(false!==a&&void 0!==m[a])return m[a];if(e){try{var i=e.contentDocument||e.contentWindow.document;o=i.body.innerHTML}catch(e){}t=null!==o}else{try{var i=top.document;o=i.body.innerHTML}catch(e){}t=null!==o}false!==a&&(m[a]=t);return t},_iframe=function(e){var t=this.find("iframe");if(t.length){var a=e?"auto":"none";t.css("pointer-events",a)}},_disableMousewheel=function(e,t){var a=t.nodeName.toLowerCase(),i=e.data(o).opt.mouseWheel.disableOver,r=["select","textarea"];return n.inArray(a,i)>-1&&!(n.inArray(a,r)>-1&&!n(t).is(":focus"))},_draggerRail=function(){var e=n(this||a),t=e.data(o),i=o+"_"+t.idx,r=n("#mCSB_"+t.idx+"_container"),l=r.parent(),s=n(".mCSB_"+t.idx+"_scrollbar ."+f[12]),c;s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,(function(e){d=true;n(e.target).hasClass("mCSB_dragger")||(c=1)})).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,(function(e){d=false})).bind("click."+i,(function(o){if(c){c=0;if(n(o.target).hasClass(f[12])||n(o.target).hasClass("mCSB_draggerRail")){_stop(e);var i=n(this||a),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!t.overflowed[1])return;var d="x",u=o.pageX>s.offset().left?-1:1,h=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!t.overflowed[0])return;var d="y",u=o.pageY>s.offset().top?-1:1,h=Math.abs(r[0].offsetTop)-u*(.9*l.height())}_scrollTo(e,h.toString(),{dir:d,scrollEasing:"mcsEaseInOut"})}}}))},_focus=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=o+"_"+t.idx,l=n("#mCSB_"+t.idx+"_container"),s=l.parent();l.bind("focusin."+r,(function(t){var a=n(document.activeElement),o=l.find(".mCustomScrollBox").length,r=0;if(a.is(i.advanced.autoScrollOnFocus)){_stop(e);clearTimeout(e[0]._focusTimeout);e[0]._focusTimer=o?(r+17)*o:0;e[0]._focusTimeout=setTimeout((function(){var t=[_childPos(a)[0],_childPos(a)[1]],o=[l[0].offsetTop,l[0].offsetLeft],n=[o[0]+t[0]>=0&&o[0]+t[0]<s.height()-a.outerHeight(false),o[1]+t[1]>=0&&o[0]+t[1]<s.width()-a.outerWidth(false)],c="yx"!==i.axis||n[0]||n[1]?"all":"none";"x"===i.axis||n[0]||_scrollTo(e,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:r});"y"===i.axis||n[1]||_scrollTo(e,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:r})}),e[0]._focusTimer)}}))},_wrapperScroll=function(){var e=n(this||a),t=e.data(o),i=o+"_"+t.idx,r=n("#mCSB_"+t.idx+"_container").parent();r.bind("scroll."+i,(function(e){0===r.scrollTop()&&0===r.scrollLeft()||n(".mCSB_"+t.idx+"_scrollbar").css("visibility","hidden")}))},_buttons=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=t.sequential,l=o+"_"+t.idx,s=".mCSB_"+t.idx+"_scrollbar",c=n(s+">a");c.bind("contextmenu."+l,(function(e){e.preventDefault()})).bind("mousedown."+l+" touchstart."+l+" pointerdown."+l+" MSPointerDown."+l+" mouseup."+l+" touchend."+l+" pointerup."+l+" MSPointerUp."+l+" mouseout."+l+" pointerout."+l+" MSPointerOut."+l+" click."+l,(function(o){o.preventDefault();if(_mouseBtnLeft(o)){var l=n(this||a).attr("class");r.type=i.scrollButtons.scrollType;switch(o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===r.type)return;d=true;t.tweenRunning=false;_seq("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===r.type)return;d=false;r.dir&&_seq("off",l);break;case"click":if("stepped"!==r.type||t.tweenRunning)return;_seq("on",l);break}}function _seq(t,a){r.scrollAmount=i.scrollButtons.scrollAmount;_sequentialScroll(e,t,a)}}))},_keyboard=function(){var e=n(this||a),t=e.data(o),i=t.opt,r=t.sequential,l=o+"_"+t.idx,s=n("#mCSB_"+t.idx),c=n("#mCSB_"+t.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each((function(){n(this||a).bind("load",(function(){_canAccessIFrame(this||a)&&n((this||a).contentDocument||(this||a).contentWindow.document).bind(h[0],(function(e){_onKeyboard(e)}))}))}));s.attr("tabindex","0").bind(h[0],(function(e){_onKeyboard(e)}));function _onKeyboard(a){switch(a.type){case"blur":t.tweenRunning&&r.dir&&_seq("off",null);break;case"keydown":case"keyup":var o=a.keyCode?a.keyCode:a.which,l="on";if("x"!==i.axis&&(38===o||40===o)||"y"!==i.axis&&(37===o||39===o)){if((38===o||40===o)&&!t.overflowed[0]||(37===o||39===o)&&!t.overflowed[1])return;"keyup"===a.type&&(l="off");if(!n(document.activeElement).is(u)){a.preventDefault();a.stopImmediatePropagation();_seq(l,o)}}else if(33===o||34===o){if(t.overflowed[0]||t.overflowed[1]){a.preventDefault();a.stopImmediatePropagation()}if("keyup"===a.type){_stop(e);var s=34===o?-1:1;if("x"===i.axis||"yx"===i.axis&&t.overflowed[1]&&!t.overflowed[0])var f="x",h=Math.abs(c[0].offsetLeft)-s*(.9*d.width());else var f="y",h=Math.abs(c[0].offsetTop)-s*(.9*d.height());_scrollTo(e,h.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===o||36===o)&&!n(document.activeElement).is(u)){if(t.overflowed[0]||t.overflowed[1]){a.preventDefault();a.stopImmediatePropagation()}if("keyup"===a.type){if("x"===i.axis||"yx"===i.axis&&t.overflowed[1]&&!t.overflowed[0])var f="x",h=35===o?Math.abs(d.width()-c.outerWidth(false)):0;else var f="y",h=35===o?Math.abs(d.height()-c.outerHeight(false)):0;_scrollTo(e,h.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}break}function _seq(a,o){r.type=i.keyboard.scrollType;r.scrollAmount=i.keyboard.scrollAmount;"stepped"===r.type&&t.tweenRunning||_sequentialScroll(e,a,o)}}},_sequentialScroll=function(e,t,a,i,r){var l=e.data(o),s=l.opt,c=l.sequential,d=n("#mCSB_"+l.idx+"_container"),u="stepped"===c.type,h=s.scrollInertia<26?26:s.scrollInertia,m=s.scrollInertia<1?17:s.scrollInertia;switch(t){case"on":c.dir=[a===f[16]||a===f[15]||39===a||37===a?"x":"y",a===f[13]||a===f[15]||38===a||37===a?-1:1];_stop(e);if(_isNumeric(a)&&"stepped"===c.type)return;_on(u);break;case"off":_off();(u||l.tweenRunning&&c.dir)&&_on(true);break}function _on(t){s.snapAmount&&(c.scrollAmount=s.snapAmount instanceof Array?"x"===c.dir[0]?s.snapAmount[1]:s.snapAmount[0]:s.snapAmount);var a="stepped"!==c.type,o=r||(t?a?h/1.5:m:1e3/60),n=t?a?7.5:40:2.5,u=[Math.abs(d[0].offsetTop),Math.abs(d[0].offsetLeft)],f=[l.scrollRatio.y>10?10:l.scrollRatio.y,l.scrollRatio.x>10?10:l.scrollRatio.x],p="x"===c.dir[0]?u[1]+c.dir[1]*(f[1]*n):u[0]+c.dir[1]*(f[0]*n),g="x"===c.dir[0]?u[1]+c.dir[1]*parseInt(c.scrollAmount):u[0]+c.dir[1]*parseInt(c.scrollAmount),_="auto"!==c.scrollAmount?g:p,v=i||(t?a?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),x=!!t;t&&o<17&&(_="x"===c.dir[0]?u[1]:u[0]);_scrollTo(e,_.toString(),{dir:c.dir[0],scrollEasing:v,dur:o,onComplete:x});if(t)c.dir=false;else{clearTimeout(c.step);c.step=setTimeout((function(){_on()}),o)}}function _off(){clearTimeout(c.step);_delete(c,"step");_stop(e)}},_arr=function(e){var t=n(this||a).data(o).opt,i=[];"function"===typeof e&&(e=e());if(e instanceof Array)i=e.length>1?[e[0],e[1]]:"x"===t.axis?[null,e[0]]:[e[0],null];else{i[0]=e.y?e.y:e.x||"x"===t.axis?null:e;i[1]=e.x?e.x:e.y||"y"===t.axis?null:e}"function"===typeof i[0]&&(i[0]=i[0]());"function"===typeof i[1]&&(i[1]=i[1]());return i},_to=function(e,t){if(null!=e&&"undefined"!=typeof e){var i=n(this||a),r=i.data(o),l=r.opt,s=n("#mCSB_"+r.idx+"_container"),c=s.parent(),d=typeof e;t||(t="x"===l.axis?"x":"y");var u="x"===t?s.outerWidth(false)-c.width():s.outerHeight(false)-c.height(),f="x"===t?s[0].offsetLeft:s[0].offsetTop,m="x"===t?"left":"top";switch(d){case"function":return e();break;case"object":var p=e.jquery?e:n(e);if(!p.length)return;return"x"===t?_childPos(p)[1]:_childPos(p)[0];break;case"string":case"number":if(_isNumeric(e))return Math.abs(e);if(-1!==e.indexOf("%"))return Math.abs(u*parseInt(e)/100);if(-1!==e.indexOf("-="))return Math.abs(f-parseInt(e.split("-=")[1]));if(-1!==e.indexOf("+=")){var g=f+parseInt(e.split("+=")[1]);return g>=0?0:Math.abs(g)}if(-1!==e.indexOf("px")&&_isNumeric(e.split("px")[0]))return Math.abs(e.split("px")[0]);if("top"===e||"left"===e)return 0;if("bottom"===e)return Math.abs(c.height()-s.outerHeight(false));if("right"===e)return Math.abs(c.width()-s.outerWidth(false));if("first"===e||"last"===e){var p=s.find(":"+e);return"x"===t?_childPos(p)[1]:_childPos(p)[0]}if(n(e).length)return"x"===t?_childPos(n(e))[1]:_childPos(n(e))[0];s.css(m,e);h.update.call(null,i[0]);return;break}}},_autoUpdate=function(e){var t=n(this||a),i=t.data(o),r=i.opt,l=n("#mCSB_"+i.idx+"_container");if(e){clearTimeout(l[0].autoUpdate);_delete(l[0],"autoUpdate")}else upd();function upd(){clearTimeout(l[0].autoUpdate);0!==t.parents("html").length?l[0].autoUpdate=setTimeout((function(){if(r.advanced.updateOnSelectorChange){i.poll.change.n=sizesSum();if(i.poll.change.n!==i.poll.change.o){i.poll.change.o=i.poll.change.n;doUpd(3);return}}if(r.advanced.updateOnContentResize){i.poll.size.n=t[0].scrollHeight+t[0].scrollWidth+l[0].offsetHeight+t[0].offsetHeight+t[0].offsetWidth;if(i.poll.size.n!==i.poll.size.o){i.poll.size.o=i.poll.size.n;doUpd(1);return}}if(r.advanced.updateOnImageLoad&&!("auto"===r.advanced.updateOnImageLoad&&"y"===r.axis)){i.poll.img.n=l.find("img").length;if(i.poll.img.n!==i.poll.img.o){i.poll.img.o=i.poll.img.n;l.find("img").each((function(){imgLoader(this||a)}));return}}(r.advanced.updateOnSelectorChange||r.advanced.updateOnContentResize||r.advanced.updateOnImageLoad)&&upd()}),r.advanced.autoUpdateTimeout):t=null}function imgLoader(e){if(n(e).hasClass(f[2]))doUpd();else{var t=new Image;t.onload=createDelegate(t,imgOnLoad);t.src=e.src}function createDelegate(e,t){return function(){return t.apply(e,arguments)}}function imgOnLoad(){(this||a).onload=null;n(e).addClass(f[2]);doUpd(2)}}function sizesSum(){true===r.advanced.updateOnSelectorChange&&(r.advanced.updateOnSelectorChange="*");var e=0,t=l.find(r.advanced.updateOnSelectorChange);r.advanced.updateOnSelectorChange&&t.length>0&&t.each((function(){e+=(this||a).offsetHeight+(this||a).offsetWidth}));return e}function doUpd(e){clearTimeout(l[0].autoUpdate);h.update.call(null,t[0],e)}},_snapAmount=function(e,t,a){return Math.round(e/t)*t-a},_stop=function(e){var t=e.data(o),i=n("#mCSB_"+t.idx+"_container,#mCSB_"+t.idx+"_container_wrapper,#mCSB_"+t.idx+"_dragger_vertical,#mCSB_"+t.idx+"_dragger_horizontal");i.each((function(){_stopTween.call(this||a)}))},_scrollTo=function(e,t,a){var i=e.data(o),r=i.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:false,dur:r.scrollInertia,overwrite:"all",callbacks:true,onStart:true,onUpdate:true,onComplete:true},a=n.extend(l,a),s=[a.dur,a.drag?0:a.dur],c=n("#mCSB_"+i.idx),d=n("#mCSB_"+i.idx+"_container"),u=d.parent(),f=r.callbacks.onTotalScrollOffset?_arr.call(e,r.callbacks.onTotalScrollOffset):[0,0],h=r.callbacks.onTotalScrollBackOffset?_arr.call(e,r.callbacks.onTotalScrollBackOffset):[0,0];i.trigger=a.trigger;if(0!==u.scrollTop()||0!==u.scrollLeft()){n(".mCSB_"+i.idx+"_scrollbar").css("visibility","visible");u.scrollTop(0).scrollLeft(0)}if("_resetY"===t&&!i.contentReset.y){_cb("onOverflowYNone")&&r.callbacks.onOverflowYNone.call(e[0]);i.contentReset.y=1}if("_resetX"===t&&!i.contentReset.x){_cb("onOverflowXNone")&&r.callbacks.onOverflowXNone.call(e[0]);i.contentReset.x=1}if("_resetY"!==t&&"_resetX"!==t){if((i.contentReset.y||!e[0].mcs)&&i.overflowed[0]){_cb("onOverflowY")&&r.callbacks.onOverflowY.call(e[0]);i.contentReset.x=null}if((i.contentReset.x||!e[0].mcs)&&i.overflowed[1]){_cb("onOverflowX")&&r.callbacks.onOverflowX.call(e[0]);i.contentReset.x=null}if(r.snapAmount){var m=r.snapAmount instanceof Array?"x"===a.dir?r.snapAmount[1]:r.snapAmount[0]:r.snapAmount;t=_snapAmount(t,m,r.snapOffset)}switch(a.dir){case"x":var p=n("#mCSB_"+i.idx+"_dragger_horizontal"),g="left",_=d[0].offsetLeft,v=[c.width()-d.outerWidth(false),p.parent().width()-p.width()],x=[t,0===t?0:t/i.scrollRatio.x],w=f[1],b=h[1],S=w>0?w/i.scrollRatio.x:0,C=b>0?b/i.scrollRatio.x:0;break;case"y":var p=n("#mCSB_"+i.idx+"_dragger_vertical"),g="top",_=d[0].offsetTop,v=[c.height()-d.outerHeight(false),p.parent().height()-p.height()],x=[t,0===t?0:t/i.scrollRatio.y],w=f[0],b=h[0],S=w>0?w/i.scrollRatio.y:0,C=b>0?b/i.scrollRatio.y:0;break}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=v[1]?x=[v[0],v[1]]:x[0]=-x[0];if(!e[0].mcs){_mcs();_cb("onInit")&&r.callbacks.onInit.call(e[0])}clearTimeout(d[0].onCompleteTimeout);_tweenTo(p[0],g,Math.round(x[1]),s[1],a.scrollEasing);!i.tweenRunning&&(0===_&&x[0]>=0||_===v[0]&&x[0]<=v[0])||_tweenTo(d[0],g,Math.round(x[0]),s[0],a.scrollEasing,a.overwrite,{onStart:function(){if(a.callbacks&&a.onStart&&!i.tweenRunning){if(_cb("onScrollStart")){_mcs();r.callbacks.onScrollStart.call(e[0])}i.tweenRunning=true;_onDragClasses(p);i.cbOffsets=_cbOffsets()}},onUpdate:function(){if(a.callbacks&&a.onUpdate&&_cb("whileScrolling")){_mcs();r.callbacks.whileScrolling.call(e[0])}},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===r.axis&&clearTimeout(d[0].onCompleteTimeout);var t=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout((function(){if(_cb("onScroll")){_mcs();r.callbacks.onScroll.call(e[0])}if(_cb("onTotalScroll")&&x[1]>=v[1]-S&&i.cbOffsets[0]){_mcs();r.callbacks.onTotalScroll.call(e[0])}if(_cb("onTotalScrollBack")&&x[1]<=C&&i.cbOffsets[1]){_mcs();r.callbacks.onTotalScrollBack.call(e[0])}i.tweenRunning=false;d[0].idleTimer=0;_onDragClasses(p,"hide")}),t)}}})}function _cb(e){return i&&r.callbacks[e]&&"function"===typeof r.callbacks[e]}function _cbOffsets(){return[r.callbacks.alwaysTriggerOffsets||_>=v[0]+w,r.callbacks.alwaysTriggerOffsets||_<=-b]}function _mcs(){var t=[d[0].offsetTop,d[0].offsetLeft],o=[p[0].offsetTop,p[0].offsetLeft],n=[d.outerHeight(false),d.outerWidth(false)],i=[c.height(),c.width()];e[0].mcs={content:d,top:t[0],left:t[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(n[0])-i[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(n[1])-i[1])),direction:a.dir}}},_tweenTo=function(e,t,a,o,n,i,r){e._mTween||(e._mTween={top:{},left:{}});var r=r||{},l=r.onStart||function(){},s=r.onUpdate||function(){},c=r.onComplete||function(){},d=_getTime(),u,f=0,h=e.offsetTop,m=e.style,p,g=e._mTween[t];"left"===t&&(h=e.offsetLeft);var _=a-h;g.stop=0;"none"!==i&&_cancelTween();_startTween();function _step(){if(!g.stop){f||l.call();f=_getTime()-d;_tween();if(f>=g.time){g.time=f>g.time?f+u-(f-g.time):f+u-1;g.time<f+1&&(g.time=f+1)}g.time<o?g.id=p(_step):c.call()}}function _tween(){if(o>0){g.currVal=_ease(g.time,h,_,o,n);m[t]=Math.round(g.currVal)+"px"}else m[t]=a+"px";s.call()}function _startTween(){u=1e3/60;g.time=f+u;p=window.requestAnimationFrame?window.requestAnimationFrame:function(e){_tween();return setTimeout(e,.01)};g.id=p(_step)}function _cancelTween(){if(null!=g.id){window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id);g.id=null}}function _ease(e,t,a,o,n){switch(n){case"linear":case"mcsLinear":return a*e/o+t;break;case"mcsLinearOut":e/=o;e--;return a*Math.sqrt(1-e*e)+t;break;case"easeInOutSmooth":e/=o/2;if(e<1)return a/2*e*e+t;e--;return-a/2*(e*(e-2)-1)+t;break;case"easeInOutStrong":e/=o/2;if(e<1)return a/2*Math.pow(2,10*(e-1))+t;e--;return a/2*(-Math.pow(2,-10*e)+2)+t;break;case"easeInOut":case"mcsEaseInOut":e/=o/2;if(e<1)return a/2*e*e*e+t;e-=2;return a/2*(e*e*e+2)+t;break;case"easeOutSmooth":e/=o;e--;return-a*(e*e*e*e-1)+t;break;case"easeOutStrong":return a*(-Math.pow(2,-10*e/o)+1)+t;break;case"easeOut":case"mcsEaseOut":default:var i=(e/=o)*e,r=i*e;return t+a*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}},_getTime=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_stopTween=function(){var e=this||a;e._mTween||(e._mTween={top:{},left:{}});var t=["top","left"];for(var o=0;o<t.length;o++){var n=t[o];if(e._mTween[n].id){window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id);e._mTween[n].id=null;e._mTween[n].stop=1}}},_delete=function(e,t){try{delete e[t]}catch(a){e[t]=null}},_mouseBtnLeft=function(e){return!(e.which&&1!==e.which)},_pointerTouch=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},_isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_childPos=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},_isTabHidden=function(){var e=_getHiddenProp();return!!e&&document[e];function _getHiddenProp(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}};n.fn[e]=function(e){if(h[e])return h[e].apply(this||a,Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return h.init.apply(this||a,arguments);n.error("Method "+e+" does not exist")};n[e]=function(e){if(h[e])return h[e].apply(this||a,Array.prototype.slice.call(arguments,1));if("object"===typeof e||!e)return h.init.apply(this||a,arguments);n.error("Method "+e+" does not exist")};n[e].defaults=r;window[e]=true;n(window).bind("load",(function(){n(i)[e]();n.extend(n.expr[":"],{mcsInView:n.expr[":"].mcsInView||function(e){var t=n(e),a=t.parents(".mCSB_container"),o,i;if(a.length){o=a.parent();i=[a[0].offsetTop,a[0].offsetLeft];return i[0]+_childPos(t)[0]>=0&&i[0]+_childPos(t)[0]<o.height()-t.outerHeight(false)&&i[1]+_childPos(t)[1]>=0&&i[1]+_childPos(t)[1]<o.width()-t.outerWidth(false)}},mcsInSight:n.expr[":"].mcsInSight||function(e,t,a){var o=n(e),i,r=o.parents(".mCSB_container"),l,s,c,d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(r.length){i=[o.outerHeight(false),o.outerWidth(false)];s=[r[0].offsetTop+_childPos(o)[0],r[0].offsetLeft+_childPos(o)[1]];l=[r.parent()[0].offsetHeight,r.parent()[0].offsetWidth];c=[i[0]<l[0]?d[0]:d[1],i[1]<l[1]?d[0]:d[1]];return s[0]-l[0]*c[0][0]<0&&s[0]+i[0]-l[0]*c[0][1]>=0&&s[1]-l[1]*c[1][0]<0&&s[1]+i[1]-l[1]*c[1][1]>=0}},mcsOverflow:n.expr[":"].mcsOverflow||function(e){var t=n(e).data(o);if(t)return t.overflowed[0]||t.overflowed[1]}})}))}))}));var n=o;export default n;

